:root{--game-bg:#d3d3d3;--panel-bg:#f9f4e8;--primary:#f0c24d;--danger:#e74c3c;--text:#333}*{box-sizing:border-box;margin:0;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body{font-family:Microsoft YaHei,sans-serif;display:flex;justify-content:center;align-items:center;min-height:100vh;overflow:hidden;position:relative}.video-background{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;-o-object-fit:cover;object-fit:cover}.game-viewport{width:800px;height:480px;position:relative;overflow:hidden;box-shadow:0 20px 50px rgba(0,0,0,.5)}.timer-container{position:absolute;top:15px;left:20px;display:flex;align-items:center;gap:10px;z-index:100}.timer-icon{width:50px;height:50px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="55" r="35" fill="white" stroke="black" stroke-width="3"/><circle cx="50" cy="55" r="30" fill="none" stroke="gold" stroke-width="2"/><text x="50" y="60" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Time</text><path d="M25 25 L40 40 M75 25 L60 40" stroke="black" stroke-width="8" stroke-linecap="round"/></svg>') no-repeat 50%}.timer-bar{width:400px;height:20px;background:#fff;border:2px solid #999;border-radius:10px;overflow:hidden;position:relative}.timer-fill{height:100%;background:linear-gradient(180deg,#ff8c00,#ff4500);transition:width .1s linear}.completion-container{position:absolute;bottom:15px;right:32px;display:flex;align-items:center;gap:10px;z-index:100;font-weight:700}.completion-bar{width:120px;height:20px;background:#fff;border:2px solid #555;border-radius:10px;overflow:hidden;position:relative}.completion-fill{height:100%;background:brown;transition:width .3s ease}.overlay{position:absolute;inset:0;align-items:center;z-index:200}.overlay,.start-overlay{display:flex;justify-content:center}.start-overlay{background:url(/images/start.jpg) 50%/cover no-repeat;align-items:flex-end;padding-bottom:30px}.tea-intro-overlay{background:url(/images/tea.jpg) 50%/cover no-repeat}.oldlady-intro-overlay{background:url(/images/road.jpg) 50%/cover no-repeat}.cucumber-intro-overlay{background:url(/images/start.jpg) 50%/cover no-repeat}.result-success-overlay{background:url(/images/result-success.jpg) 50%/cover no-repeat}.result-fail-overlay{background:url(/images/result-fail.jpg) 50%/cover no-repeat}.start-button-container{display:flex;justify-content:center;align-items:center}.dialog-box{width:650px;padding:30px;background:hsla(0,0%,100%,.8);border:3px solid #f0c24d;border-radius:20px;position:relative;text-align:left}.dialog-header{display:flex;justify-content:space-between;margin-bottom:20px}.char-head,.dialog-header.fail-header,.dialog-header.success-header{justify-content:center}.char-head{width:80px;height:80px;background:#eee;border-radius:50%;border:none;display:flex;align-items:center;font-size:12px;overflow:hidden}.char-head img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.dialog-title{font-size:20px;color:brown;font-weight:700;text-align:center;margin-top:10px}.dialog-content{font-size:16px;line-height:1.8;color:#048;margin-bottom:20px}.btn-start{display:block;margin:0 auto;padding:10px 30px;background:#fff9e6;border:2px solid #f0c24d;border-radius:20px;font-size:18px;color:#333;cursor:pointer}.btn-start:hover{background:#f9e8b1}.chopping-board{position:absolute;width:750px;height:350px;left:25px;top:75px;background:hsla(40,64%,85%,.8);border:4px solid #dcc499;border-radius:20px;z-index:10}.cucumber-plate{position:absolute;right:20px;top:150px;width:150px;height:100px;background:#fff;border-radius:50%;border:4px solid #ddd;box-shadow:inset 0 5px 10px rgba(0,0,0,.1),0 5px 15px rgba(0,0,0,.1);z-index:11}.cucumber-body{width:500px;background:#2e7d32;z-index:12}.cucumber-body,.cucumber-cut-area{position:absolute;left:50px;top:150px;height:40px;border-radius:20px}.cucumber-cut-area{background:#deb887;z-index:11}.hand-yanzi{position:absolute;width:180px;height:120px;top:106px;z-index:15;transition:left .5s ease-in-out;filter:drop-shadow(2px 4px 6px rgba(0,0,0,.2))}.knife-tool{position:absolute;width:150px;height:250px;left:380px;top:70px;z-index:20;cursor:pointer;transition:transform .1s ease}.knife-tool.down{transform:translateY(110px)}.tea-area{display:flex;gap:40px;align-items:center;justify-content:center;height:400px;margin-top:80px}.bamboo-tray{width:300px;height:300px;background:repeating-linear-gradient(45deg,#d4a574,#d4a574 10px,#c49563 0,#c49563 20px),repeating-linear-gradient(-45deg,#d4a574,#d4a574 10px,#c49563 0,#c49563 20px);border-radius:50%;border:15px solid #8b6f47;position:relative;box-shadow:0 10px 30px rgba(0,0,0,.3)}.tea-leaves-container{width:100%;height:100%;position:relative}.tea-leaf{position:absolute;cursor:pointer;transition:all .3s ease;animation:leafFloat 3s ease-in-out infinite;width:50px;height:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tea-leaf:hover{transform:scale(1.2)}.tea-leaf.dragging{animation:none;cursor:pointer;transform:scale(1.1);filter:drop-shadow(4px 4px 8px rgba(0,0,0,.4))}.tea-leaf.collected{animation:none;cursor:default;opacity:.9}.tea-leaf.collected:hover{transform:none}@keyframes leafFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.tea-leaf svg{width:100%;height:100%;filter:drop-shadow(2px 2px 4px rgba(0,0,0,.3))}.tea-bowl{width:200px;height:200px;background:radial-gradient(circle at 50% 40%,#fff 0,#e8e8e8 100%);border-radius:50%;border:8px solid #999;position:relative;box-shadow:inset 0 5px 15px rgba(0,0,0,.2),0 10px 30px rgba(0,0,0,.3)}.collected-leaves,.tea-bowl{display:flex;align-items:center;justify-content:center}.collected-leaves{width:80%;height:80%;flex-wrap:wrap;gap:5px}.collected-leaf{animation:leafCollect .5s ease;width:30px;height:30px}@keyframes leafCollect{0%{opacity:0;transform:scale(2)}to{opacity:1;transform:scale(1)}}.road-scene{width:800px;height:500px;position:relative;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.3)}.road{bottom:20%;height:60%;top:0;background:#333}.lane,.road{position:absolute;width:100%}.lane{height:33.33%;border-bottom:2px dashed #fff}.car{font-size:3em;z-index:5}.car,.grandma{position:absolute}.grandma{font-size:4em;bottom:5%;left:50%;transform:translateX(-50%);transition:bottom .3s ease;z-index:10;cursor:pointer;filter:drop-shadow(3px 3px 6px rgba(0,0,0,.5))}.grandma.hit{animation:hit .5s ease}@keyframes hit{0%,to{transform:translateX(-50%) rotate(0deg)}25%{transform:translateX(-50%) rotate(-15deg)}75%{transform:translateX(-50%) rotate(15deg)}}@keyframes pop-slice{0%{transform:translateY(0) rotate(0);opacity:1}to{transform:translateY(-100px) rotate(1turn);opacity:0}}.slice-particle{position:absolute;width:30px;height:30px;background:radial-gradient(circle at 30% 30%,#aed581,#558b2f);border-radius:50%;border:2px solid #33691e;z-index:30;pointer-events:none}.cucumber-stage,.road-stage,.tea-stage{height:100%;width:100%}.oldlady-game-content{padding:0}.oldlady-top-info{position:absolute;top:10px;left:0;right:0;display:flex;justify-content:space-between;align-items:center;padding:0 20px;height:60px;z-index:100}.oldlady-timer-container{position:static;width:auto}.oldlady-timer-bar{width:300px}.oldlady-timer-fill-danger{background:linear-gradient(90deg,#f44336,#ff5722)}.oldlady-destination{font-size:1.5em;font-weight:700;color:#333;background:#90ee90;padding:10px 20px;border-radius:10px;border:2px solid #333}.oldlady-road-scene{margin-top:80px;height:420px}.oldlady-lane-0{top:0}.oldlady-lane-1{top:33.33%}.oldlady-lane-2{top:66.66%}.oldlady-instructions{position:absolute;bottom:15px;left:15px;border-radius:15px;font-size:16px;font-weight:700;color:#333;text-align:center}.oldlady-success-content{text-align:center}.game-wrapper{display:flex;flex-direction:column;align-items:center}.music-notice{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:hsla(0,0%,100%,.95);color:#333;padding:10px 20px;border-radius:20px;font-size:14px;z-index:1001;box-shadow:0 4px 15px rgba(0,0,0,.2);animation:fadeInOut 4s ease-in-out;transition:all .3s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.music-notice:hover{background:#fff;box-shadow:0 6px 20px rgba(0,0,0,.3);transform:translateX(-50%) translateY(-2px)}.music-notice:active{transform:translateX(-50%) translateY(0);box-shadow:0 2px 10px rgba(0,0,0,.2)}@keyframes fadeInOut{0%{opacity:0;transform:translateX(-50%) translateY(-10px)}15%{opacity:1;transform:translateX(-50%) translateY(0)}85%{opacity:1;transform:translateX(-50%) translateY(0)}to{opacity:0;transform:translateX(-50%) translateY(-10px)}}.persona-info{margin-bottom:20px;text-align:center;background:hsla(0,0%,100%,.9);padding:15px;border-radius:10px;box-shadow:0 4px 15px rgba(0,0,0,.2)}.persona-info p{margin:0 0 10px;font-size:16px;font-weight:700;color:#333}.btn-test-voice{background:linear-gradient(45deg,#ff6b6b,orange);color:#fff;border:none;padding:8px 16px;border-radius:20px;font-size:14px;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 10px hsla(0,100%,71%,.3)}.btn-test-voice:hover{transform:translateY(-2px);box-shadow:0 4px 15px hsla(0,100%,71%,.4)}.fail-title-section,.success-dialog-title,.success-title-section{position:absolute;background:hsla(0,0%,100%,.8);padding:20px;border-radius:20px;border:1px solid #f0c24d;box-shadow:0 10px 30px rgba(0,0,0,.3)}.fail-title-section{top:80px;right:40px}.success-title-section{left:20px;bottom:30px}.fail-dialog-title,.success-dialog-title{margin:0 0 15px;font-size:28px;font-weight:700;color:#d32f2f;text-align:center}.success-dialog-title{position:absolute;right:40px;top:40px}.fail-dialog-content,.success-dialog-content{margin:0;font-size:16px;color:#333;line-height:1.5;text-align:left}.fail-button-section{position:absolute;bottom:50px;right:90px}.success-button-section{position:absolute;right:40px;bottom:35px}