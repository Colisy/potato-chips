"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./src/utils/aiService.ts":
/*!********************************!*\
  !*** ./src/utils/aiService.ts ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clearMessageHistory\": function() { return /* binding */ clearMessageHistory; },\n/* harmony export */   \"getPersona\": function() { return /* binding */ getPersona; },\n/* harmony export */   \"getRoastMessage\": function() { return /* binding */ getRoastMessage; },\n/* harmony export */   \"initializeBackgroundMusic\": function() { return /* binding */ initializeBackgroundMusic; },\n/* harmony export */   \"initializeSpeechSystem\": function() { return /* binding */ initializeSpeechSystem; },\n/* harmony export */   \"pauseBackgroundMusic\": function() { return /* binding */ pauseBackgroundMusic; },\n/* harmony export */   \"playBackgroundMusic\": function() { return /* binding */ playBackgroundMusic; },\n/* harmony export */   \"speak\": function() { return /* binding */ speak; },\n/* harmony export */   \"stopAllSpeech\": function() { return /* binding */ stopAllSpeech; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @swc/helpers/src/_async_to_generator.mjs */ \"./node_modules/@swc/helpers/src/_async_to_generator.mjs\");\n/* harmony import */ var _swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @swc/helpers/src/_to_consumable_array.mjs */ \"./node_modules/@swc/helpers/src/_to_consumable_array.mjs\");\n/* harmony import */ var _swc_helpers_src_type_of_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @swc/helpers/src/_type_of.mjs */ \"./node_modules/@swc/helpers/src/_type_of.mjs\");\n/* harmony import */ var _swc_helpers_src_ts_generator_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @swc/helpers/src/_ts_generator.mjs */ \"./node_modules/@swc/helpers/src/_ts_generator.mjs\");\n/* harmony import */ var _swc_helpers_src_ts_values_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @swc/helpers/src/_ts_values.mjs */ \"./node_modules/@swc/helpers/src/_ts_values.mjs\");\n\n\n\n\n\nvar API_KEY = \"sk-cfa87ed7-f671-4e47-88b2-fb30d52d0311\";\nvar BASE_URL = \"https://api.haihub.cn/v1/chat/completions\";\nvar currentPersona = Math.random() > 0.5 ? \"sister\" : \"brother\";\nvar isSpeaking = false; // 添加语音状态管理\nvar speechQueue = []; // 语音队列\nvar lastRequestTime = 0; // 记录上次请求时间\nvar MIN_REQUEST_INTERVAL = 2000; // 最小请求间隔2秒\n// 历史消息记录，防止重复\nvar messageHistory = [];\nvar MAX_HISTORY_SIZE = 20; // 增加到20条历史消息\nvar sessionMessageCount = 0; // 本次会话消息计数\n// 背景音乐管理\nvar backgroundAudio = null;\nvar originalVolume = 0.3; // 背景音乐原始音量\nfunction getPersona() {\n    return currentPersona;\n}\n// 检查消息是否重复或相似\nfunction isMessageDuplicate(message) {\n    if (!message || message.trim() === \"\") return true;\n    var trimmedMessage = message.trim();\n    // 完全相同的检查\n    if (messageHistory.includes(trimmedMessage)) {\n        return true;\n    }\n    var _iteratorNormalCompletion = true, _didIteratorError = false, _iteratorError = undefined;\n    try {\n        // 相似度检查 - 检查是否有80%以上的相似度\n        for(var _iterator = messageHistory[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true){\n            var historyMsg = _step.value;\n            if (calculateSimilarity(trimmedMessage, historyMsg) > 0.8) {\n                console.log('发现相似消息: \"'.concat(trimmedMessage, '\" 与 \"').concat(historyMsg, '\" 相似度过高'));\n                return true;\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally{\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n            }\n        } finally{\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n    return false;\n}\n// 计算两个字符串的相似度\nfunction calculateSimilarity(str1, str2) {\n    if (str1 === str2) return 1;\n    if (str1.length === 0 || str2.length === 0) return 0;\n    // 简单的字符重叠率计算\n    var chars1 = new Set(str1);\n    var chars2 = new Set(str2);\n    var intersection = new Set(Array.from(chars1).filter(function(x) {\n        return chars2.has(x);\n    }));\n    var union = new Set((0,_swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Array.from(chars1)).concat((0,_swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Array.from(chars2))));\n    return intersection.size / union.size;\n}\n// 添加消息到历史记录\nfunction addToHistory(message) {\n    if (!message || message.trim() === \"\") return;\n    var trimmedMessage = message.trim();\n    messageHistory.push(trimmedMessage);\n    // 保持历史记录大小限制\n    if (messageHistory.length > MAX_HISTORY_SIZE) {\n        messageHistory.shift(); // 移除最旧的消息\n    }\n}\nfunction getRoastMessage(event) {\n    return _getRoastMessage.apply(this, arguments);\n}\nfunction _getRoastMessage() {\n    _getRoastMessage = (0,_swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(function(event) {\n        var _loop, isSister, now, contextualPrompt, systemPrompt, attempt, _ret, defaultMsg;\n        return (0,_swc_helpers_src_ts_generator_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    _loop = function(attempt) {\n                        var ref, ref1, controller, timeoutId, response, data, rawContent, filteredContent, defaultMsg, defaultMsg1, error, defaultMsg2;\n                        return (0,_swc_helpers_src_ts_generator_mjs__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, function(_state) {\n                            switch(_state.label){\n                                case 0:\n                                    _state.trys.push([\n                                        0,\n                                        9,\n                                        ,\n                                        12\n                                    ]);\n                                    lastRequestTime = now; // 更新请求时间\n                                    controller = new AbortController();\n                                    timeoutId = setTimeout(function() {\n                                        return controller.abort();\n                                    }, 10000); // 增加到10秒超时\n                                    return [\n                                        4,\n                                        fetch(BASE_URL, {\n                                            method: \"POST\",\n                                            headers: {\n                                                \"Content-Type\": \"application/json\",\n                                                \"Authorization\": \"Bearer \".concat(API_KEY)\n                                            },\n                                            body: JSON.stringify({\n                                                model: \"DeepSeek-V3.1\",\n                                                messages: [\n                                                    {\n                                                        role: \"system\",\n                                                        content: systemPrompt + (messageHistory.length > 0 ? \"\\n\\n【严格避免重复】你之前说过这些话，绝对不能再说：\".concat(messageHistory.join(\"、\")) : \"\")\n                                                    },\n                                                    {\n                                                        role: \"user\",\n                                                        content: \"玩家当前事件：\".concat(event, \"。请生成一句完全不同的话，第\").concat(attempt, \"次尝试。\")\n                                                    }\n                                                ],\n                                                temperature: Math.min(1.5, 0.8 + attempt * 0.15),\n                                                max_tokens: 60,\n                                                top_p: 0.95,\n                                                frequency_penalty: Math.min(2.0, 0.8 + attempt * 0.2),\n                                                presence_penalty: Math.min(2.0, 0.6 + attempt * 0.2) // 随重试增加惩罚\n                                            }),\n                                            signal: controller.signal\n                                        })\n                                    ];\n                                case 1:\n                                    response = _state.sent();\n                                    clearTimeout(timeoutId);\n                                    if (!(response.status === 429)) return [\n                                        3,\n                                        4\n                                    ];\n                                    console.log(\"API请求频率限制，第\".concat(attempt, \"次重试，等待\").concat(attempt * 2, \"秒后重试...\"));\n                                    if (!(attempt < 5)) return [\n                                        3,\n                                        3\n                                    ];\n                                    return [\n                                        4,\n                                        new Promise(function(resolve) {\n                                            return setTimeout(resolve, attempt * 2000);\n                                        })\n                                    ];\n                                case 2:\n                                    _state.sent();\n                                    return [\n                                        2,\n                                        \"continue\"\n                                    ];\n                                case 3:\n                                    throw new Error(\"API请求频率限制，已达到最大重试次数\");\n                                case 4:\n                                    if (!response.ok) {\n                                        throw new Error(\"HTTP error! status: \".concat(response.status));\n                                    }\n                                    return [\n                                        4,\n                                        response.json()\n                                    ];\n                                case 5:\n                                    data = _state.sent();\n                                    rawContent = (ref = data.choices[0]) === null || ref === void 0 ? void 0 : (ref1 = ref.message) === null || ref1 === void 0 ? void 0 : ref1.content;\n                                    filteredContent = filterBracketContent(rawContent);\n                                    console.log(\"AI原始响应(第\".concat(attempt, \"次尝试)：\"), rawContent);\n                                    console.log(\"过滤后响应：\", filteredContent);\n                                    if (!isMessageDuplicate(filteredContent)) return [\n                                        3,\n                                        8\n                                    ];\n                                    console.log(\"检测到重复/相似消息，第\".concat(attempt, \"次重试...\"));\n                                    if (!(attempt < 5)) return [\n                                        3,\n                                        7\n                                    ];\n                                    // 如果是重复消息且还有重试机会，继续重试\n                                    return [\n                                        4,\n                                        new Promise(function(resolve) {\n                                            return setTimeout(resolve, 800);\n                                        })\n                                    ];\n                                case 6:\n                                    _state.sent(); // 增加等待时间\n                                    return [\n                                        2,\n                                        \"continue\"\n                                    ];\n                                case 7:\n                                    // 如果重试次数用完，使用默认消息\n                                    console.log(\"重试次数用完，使用默认消息\");\n                                    defaultMsg = getDefaultMessage(event, isSister);\n                                    addToHistory(defaultMsg);\n                                    return [\n                                        2,\n                                        {\n                                            v: defaultMsg\n                                        }\n                                    ];\n                                case 8:\n                                    // 如果不重复，添加到历史记录并返回\n                                    if (filteredContent && filteredContent.trim() !== \"\") {\n                                        addToHistory(filteredContent);\n                                        return [\n                                            2,\n                                            {\n                                                v: filteredContent\n                                            }\n                                        ];\n                                    } else {\n                                        defaultMsg1 = getDefaultMessage(event, isSister);\n                                        addToHistory(defaultMsg1);\n                                        return [\n                                            2,\n                                            {\n                                                v: defaultMsg1\n                                            }\n                                        ];\n                                    }\n                                    return [\n                                        3,\n                                        12\n                                    ];\n                                case 9:\n                                    error = _state.sent();\n                                    console.error(\"AI请求错误 (第\".concat(attempt, \"次尝试):\"), error);\n                                    if (attempt === 5) {\n                                        // 最后一次尝试失败，返回默认消息\n                                        console.log(\"使用默认夸奖消息\");\n                                        defaultMsg2 = getDefaultMessage(event, isSister);\n                                        addToHistory(defaultMsg2);\n                                        return [\n                                            2,\n                                            {\n                                                v: defaultMsg2\n                                            }\n                                        ];\n                                    }\n                                    if (!(attempt < 5)) return [\n                                        3,\n                                        11\n                                    ];\n                                    return [\n                                        4,\n                                        new Promise(function(resolve) {\n                                            return setTimeout(resolve, 1000 * attempt);\n                                        })\n                                    ];\n                                case 10:\n                                    _state.sent();\n                                    _state.label = 11;\n                                case 11:\n                                    return [\n                                        3,\n                                        12\n                                    ];\n                                case 12:\n                                    return [\n                                        2\n                                    ];\n                            }\n                        });\n                    };\n                    isSister = currentPersona === \"sister\";\n                    now = Date.now();\n                    if (now - lastRequestTime < MIN_REQUEST_INTERVAL) {\n                        console.log(\"请求过于频繁，使用默认消息\");\n                        return [\n                            2,\n                            getDefaultMessage(event, isSister)\n                        ];\n                    }\n                    // 增加会话计数\n                    sessionMessageCount++;\n                    contextualPrompt = \"【特殊场景】\" + event;\n                    systemPrompt = isSister ? '你是一个极度肉麻、软萌的撒娇甜妹，正在陪最崇拜的\"哥哥\"玩游戏。\\n【核心要求】每句话都要带明显的撒娇尾音（如：嘛、哒、喔、呢），语气要拉丝、充满崇拜感。\\n'.concat(contextualPrompt, \"\\n\\n\\n【创新要求】\\n1. 字数控制在12-18字之间，避免固定长度\\n2. 直接输出肉麻夸奖，不带任何前缀和引号\\n3. 绝对不要输出括号内的动作描述，如（轻笑）（叹气）等\\n4. 每次回复都必须完全创新，绝对不能重复任何之前说过的话\\n5. 多使用不同的撒娇词汇和表达方式\\n6. 尝试组合不同的词汇创造全新表达\\n7. 当前是第\").concat(sessionMessageCount, \"次对话，请确保内容完全不同\") : '你是一个拥有磁性气泡音、深情且霸道的宠溺系小哥哥，正在看心爱的\"姐姐\"玩游戏。\\n【核心要求】语速缓慢，带着若有若无的笑意，语气要暧昧、甚至带点诱惑感。\\n'.concat(contextualPrompt, \"\\n\\n\\n【创新要求】\\n1. 字数控制在12-18字之间，避免固定长度\\n2. 直接输出肉麻夸奖，不带任何前缀和引号\\n3. 绝对不要输出括号内的动作描述，如（轻笑）（叹气）等\\n4. 每次回复都必须完全创新，绝对不能重复任何之前说过的话\\n5. 多使用不同的深情词汇和表达方式\\n6. 尝试组合不同的词汇创造全新表达\\n7. 当前是第\").concat(sessionMessageCount, \"次对话，请确保内容完全不同\");\n                    attempt = 1;\n                    _state.label = 1;\n                case 1:\n                    if (!(attempt <= 5)) return [\n                        3,\n                        4\n                    ];\n                    return [\n                        5,\n                        (0,_swc_helpers_src_ts_values_mjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_loop(attempt))\n                    ];\n                case 2:\n                    _ret = _state.sent();\n                    if ((0,_swc_helpers_src_type_of_mjs__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_ret) === \"object\") return [\n                        2,\n                        _ret.v\n                    ];\n                    _state.label = 3;\n                case 3:\n                    attempt++;\n                    return [\n                        3,\n                        1\n                    ];\n                case 4:\n                    defaultMsg = getDefaultMessage(event, isSister);\n                    addToHistory(defaultMsg);\n                    return [\n                        2,\n                        defaultMsg\n                    ];\n            }\n        });\n    });\n    return _getRoastMessage.apply(this, arguments);\n}\n// 动态生成词库，避免重复\nfunction generateDynamicVocabulary(isSister, sessionCount) {\n    var sisterVocabSets = [\n        // 第一组：基础撒娇\n        [\n            \"呜呜呜人家\",\n            \"笨笨猪噢\",\n            \"痛痛飞飞\",\n            \"心心碎啦\",\n            \"羞羞哒呢\",\n            \"呐呐呐～\",\n            \"嘛嘛～不可以\",\n            \"嘛～求求啦\"\n        ],\n        // 第二组：可爱表达\n        [\n            \"诶嘿嘿～\",\n            \"真的咩？\",\n            \"哼唧哼唧\",\n            \"喔唷～好腻害\",\n            \"哈咿～\",\n            \"要贴贴啦\",\n            \"不理你了哼\",\n            \"快哄哄人家\"\n        ],\n        // 第三组：崇拜表达\n        [\n            \"超级稀罕你\",\n            \"你是大坏蛋\",\n            \"想钻进怀里\",\n            \"最爱哥哥啦\",\n            \"哥哥真棒呢\",\n            \"人家好开心\",\n            \"哥哥最厉害\"\n        ],\n        // 第四组：温柔表达\n        [\n            \"呜呜好感动\",\n            \"哥哥好温柔\",\n            \"人家要抱抱\",\n            \"哥哥真帅气\",\n            \"好喜欢哥哥\",\n            \"哥哥加油呀\",\n            \"人家相信你\"\n        ],\n        // 第五组：创新表达\n        [\n            \"哥哥超神呢\",\n            \"人家心动啦\",\n            \"哥哥好厉害呀\",\n            \"呜呜太棒了\",\n            \"哥哥是天才\",\n            \"人家崇拜死了\",\n            \"哥哥无敌啦\"\n        ]\n    ];\n    var brotherVocabSets = [\n        // 第一组：深情表达\n        [\n            \"心都被勾走\",\n            \"真不乖喔\",\n            \"听话好不好\",\n            \"腰都看软了\",\n            \"你是我的命\",\n            \"想亲你一口\",\n            \"过来抱一下\"\n        ],\n        // 第二组：宠溺表达\n        [\n            \"别再撩我了\",\n            \"只准看我噢\",\n            \"命都给你呀\",\n            \"再玩一会儿嘛\",\n            \"小妖精真坏\",\n            \"别累着自己\",\n            \"我的小祖宗\"\n        ],\n        // 第三组：霸道表达\n        [\n            \"拿你没办法\",\n            \"眼里只有你\",\n            \"心跳好快呢\",\n            \"姐姐太棒了\",\n            \"宝贝真厉害\",\n            \"你是第一名\",\n            \"姐姐好美\"\n        ],\n        // 第四组：温柔表达\n        [\n            \"真想疼你\",\n            \"姐姐最乖\",\n            \"心肝宝贝\",\n            \"小可爱呢\",\n            \"姐姐真聪明\",\n            \"我的女神\",\n            \"太迷人了\"\n        ],\n        // 第五组：创新表达\n        [\n            \"姐姐好棒呢\",\n            \"心都酥了\",\n            \"姐姐真优秀\",\n            \"被你迷住了\",\n            \"姐姐好聪明\",\n            \"完全被征服\",\n            \"姐姐最美了\"\n        ]\n    ];\n    var vocabSets = isSister ? sisterVocabSets : brotherVocabSets;\n    // 根据会话次数选择不同的词库组合\n    var setIndex = (sessionCount - 1) % vocabSets.length;\n    var currentSet = vocabSets[setIndex];\n    var nextSet = vocabSets[(setIndex + 1) % vocabSets.length];\n    // 混合当前组和下一组的词汇\n    var mixedVocab = (0,_swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(currentSet).concat((0,_swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(nextSet.slice(0, 3)));\n    return mixedVocab.join(\"、\");\n}\n// 获取默认夸奖消息\nfunction getDefaultMessage(_event, isSister) {\n    var sisterMessages = [\n        \"哥哥好棒哦～\",\n        \"人家最喜欢看哥哥玩游戏了～\",\n        \"哥哥超厉害的呢！\",\n        \"哥哥的手好灵活哦～\",\n        \"人家好崇拜哥哥～\",\n        \"哥哥真温柔呢～\",\n        \"人家要抱抱哥哥～\",\n        \"哥哥最帅了呢～\",\n        \"人家好开心呀～\",\n        \"哥哥加油呀～\",\n        \"哥哥真聪明呢～\",\n        \"人家好爱哥哥～\",\n        \"哥哥好厉害呀～\",\n        \"人家心动啦～\",\n        \"哥哥是天才呢～\",\n        \"人家崇拜死了～\",\n        \"哥哥无敌啦～\",\n        \"人家好幸福～\",\n        \"哥哥最棒啦～\",\n        \"人家好依赖哥哥～\",\n        \"哥哥真优秀～\",\n        \"人家好骄傲～\",\n        \"哥哥好温暖～\",\n        \"人家好感动～\",\n        \"哥哥真贴心～\",\n        \"人家好满足～\",\n        \"哥哥好体贴～\",\n        \"人家好安心～\"\n    ];\n    var brotherMessages = [\n        \"姐姐真厉害～\",\n        \"宝贝做得真好～\",\n        \"姐姐的样子好迷人～\",\n        \"有我在呢，姐姐真棒～\",\n        \"心都被姐姐勾走了～\",\n        \"姐姐好美呀～\",\n        \"真想疼疼姐姐～\",\n        \"姐姐最乖了～\",\n        \"我的小可爱～\",\n        \"姐姐加油～\",\n        \"姐姐真聪明～\",\n        \"宝贝真优秀～\",\n        \"姐姐好棒呢～\",\n        \"心都酥了～\",\n        \"姐姐真完美～\",\n        \"被你迷住了～\",\n        \"姐姐好厉害～\",\n        \"完全被征服～\",\n        \"姐姐最美了～\",\n        \"真想抱抱你～\",\n        \"姐姐好温柔～\",\n        \"心跳加速了～\",\n        \"姐姐真可爱～\",\n        \"太喜欢你了～\",\n        \"姐姐好贴心～\",\n        \"真想保护你～\",\n        \"姐姐真体贴～\",\n        \"好想疼爱你～\"\n    ];\n    var messages = isSister ? sisterMessages : brotherMessages;\n    // 避免使用历史记录中的消息\n    var availableMessages = messages.filter(function(msg) {\n        return !messageHistory.includes(msg);\n    });\n    if (availableMessages.length > 0) {\n        // 随机选择一个未使用的消息\n        var selectedMsg = availableMessages[Math.floor(Math.random() * availableMessages.length)];\n        return selectedMsg;\n    } else {\n        // 如果所有消息都用过了，清空部分历史记录并重新开始\n        console.log(\"默认消息库已用完，清空部分历史记录\");\n        messageHistory = messageHistory.slice(-5); // 只保留最近5条\n        return messages[Math.floor(Math.random() * messages.length)];\n    }\n}\n// 清理历史记录（游戏重新开始时调用）\nfunction clearMessageHistory() {\n    messageHistory = [];\n    sessionMessageCount = 0;\n    console.log(\"消息历史记录已清空\");\n}\n// 过滤括号内的动作描述\nfunction filterBracketContent(text) {\n    if (!text) return \"\";\n    // 移除各种括号内的内容：() [] {} （） 【】 〔〕 ＜＞ 等\n    return text.replace(/\\([^)]*\\)/g, \"\") // 英文圆括号\n    .replace(/（[^）]*）/g, \"\") // 中文圆括号\n    .replace(/\\[[^\\]]*\\]/g, \"\") // 方括号\n    .replace(/【[^】]*】/g, \"\") // 中文方括号\n    .replace(/\\{[^}]*\\}/g, \"\") // 花括号\n    .replace(/〔[^〕]*〕/g, \"\") // 中文方括号变体\n    .replace(/＜[^＞]*＞/g, \"\") // 全角尖括号\n    .replace(/《[^》]*》/g, \"\") // 书名号\n    .trim(); // 去除首尾空格\n}\n// 初始化语音系统和背景音乐\nfunction initializeSpeechSystem() {\n    if ( true && window.speechSynthesis) {\n        console.log(\"语音系统初始化完成，当前人格: \".concat(currentPersona));\n    }\n    // 初始化背景音乐\n    initializeBackgroundMusic();\n}\n// 初始化背景音乐\nfunction initializeBackgroundMusic() {\n    if ( true && !backgroundAudio) {\n        backgroundAudio = new Audio(\"/music/Tonight,I feel close to you.mp3\");\n        backgroundAudio.loop = true;\n        backgroundAudio.volume = originalVolume;\n        // 预加载音频\n        backgroundAudio.preload = \"auto\";\n        console.log(\"背景音乐初始化完成\");\n    }\n}\n// 播放背景音乐\nfunction playBackgroundMusic() {\n    if (backgroundAudio) {\n        if (backgroundAudio.paused) {\n            backgroundAudio.play().then(function() {\n                console.log(\"背景音乐开始播放\");\n            }).catch(function(error) {\n                console.log(\"背景音乐播放失败，可能需要用户交互:\", error);\n            });\n        }\n    } else {\n        console.log(\"背景音乐未初始化\");\n    }\n}\n// 暂停背景音乐\nfunction pauseBackgroundMusic() {\n    if (backgroundAudio && !backgroundAudio.paused) {\n        backgroundAudio.pause();\n    }\n}\n// 降低背景音乐音量（AI语音时）\nfunction lowerBackgroundMusic() {\n    if (backgroundAudio) {\n        backgroundAudio.volume = originalVolume * 0.2; // 降低到20%\n    }\n}\n// 恢复背景音乐音量\nfunction restoreBackgroundMusic() {\n    if (backgroundAudio) {\n        backgroundAudio.volume = originalVolume;\n    }\n}\n// 停止当前语音并清空队列\nfunction stopAllSpeech() {\n    if ( true && window.speechSynthesis) {\n        window.speechSynthesis.cancel();\n        isSpeaking = false;\n        speechQueue = [];\n    }\n}\n// 处理语音队列\nfunction processNextSpeech() {\n    if (speechQueue.length === 0 || isSpeaking) {\n        return;\n    }\n    var nextText = speechQueue.shift();\n    if (nextText) {\n        speakNow(nextText);\n    }\n}\n// 立即播放语音（内部函数）\nfunction speakNow(text) {\n    if ( true && window.speechSynthesis) {\n        isSpeaking = true;\n        // AI语音开始时降低背景音乐音量（优先AI语音）\n        lowerBackgroundMusic();\n        var utterance = new SpeechSynthesisUtterance(text);\n        utterance.lang = \"zh-CN\";\n        // 获取可用的语音列表\n        var voices = window.speechSynthesis.getVoices();\n        var selectedVoice = null;\n        if (currentPersona === \"sister\") {\n            // 小甜妹：寻找中文女声\n            selectedVoice = voices.find(function(voice) {\n                return voice.lang.includes(\"zh\") && (voice.name.includes(\"Female\") || voice.name.includes(\"女\") || voice.name.includes(\"美嘉\") || voice.name.includes(\"Yaoyao\") || voice.name.includes(\"Xiaoyi\") || voice.name.includes(\"Xiaomo\"));\n            }) || voices.find(function(voice) {\n                return voice.lang.includes(\"zh\");\n            });\n            utterance.pitch = 1.25; // 甜美但不过于尖锐\n            utterance.rate = 0.95; // 稍微慢一点，更温柔\n            utterance.volume = 0.85; // 适中音量\n        } else {\n            // 小哥哥：尝试找男声，如果找不到就用极低音调\n            selectedVoice = voices.find(function(voice) {\n                return voice.lang.includes(\"zh\") && (voice.name.includes(\"Reed\") || voice.name.includes(\"男\") || voice.name.includes(\"Yunyang\") || voice.name.includes(\"Kangkang\"));\n            });\n            // 如果没找到男声，尝试英文男声\n            if (!selectedVoice) {\n                selectedVoice = voices.find(function(voice) {\n                    return voice.name.toLowerCase().includes(\"male\") || voice.name.toLowerCase().includes(\"david\") || voice.name.toLowerCase().includes(\"mark\");\n                });\n            }\n            // 还是没找到就用默认的，但调整参数\n            if (!selectedVoice) {\n                selectedVoice = voices.find(function(voice) {\n                    return voice.lang.includes(\"zh\");\n                });\n            }\n            utterance.pitch = 0.3; // 极低音调\n            utterance.rate = 0.7; // 慢语速\n            utterance.volume = 1.0; // 最大音量\n        }\n        if (selectedVoice) {\n            utterance.voice = selectedVoice;\n        }\n        console.log(\"开始播放语音: \".concat(text));\n        // 语音结束后处理下一个\n        utterance.onend = function() {\n            console.log(\"语音播放完成\");\n            isSpeaking = false;\n            // AI语音结束后恢复背景音乐音量\n            restoreBackgroundMusic();\n            processNextSpeech();\n        };\n        utterance.onerror = function() {\n            console.log(\"语音播放出错\");\n            isSpeaking = false;\n            // 出错时也要恢复背景音乐音量\n            restoreBackgroundMusic();\n            processNextSpeech();\n        };\n        window.speechSynthesis.speak(utterance);\n    }\n}\n// 主要的语音播放函数\nfunction speak(text) {\n    if (!text || text.trim() === \"\") return;\n    // 如果当前正在播放语音，忽略新的语音请求\n    if (isSpeaking) {\n        console.log(\"语音正在播放中，忽略新语音: \".concat(text.trim()));\n        return;\n    }\n    // 直接播放语音\n    speakNow(text.trim());\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSyxHQUFHLFdBQU07WUFDdEJ4SCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN0QmxCLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFFbkIsa0JBQWtCO1lBQ2xCdUgsc0JBQXNCLEVBQUUsQ0FBQztZQUV6QkcsaUJBQWlCLEVBQUUsQ0FBQztRQUN0QixDQUFDLENBQUM7UUFFRkcsU0FBUyxDQUFDYSxPQUFPLEdBQUcsV0FBTTtZQUN4QnpILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3RCbEIsVUFBVSxHQUFHLEtBQUssQ0FBQztZQUVuQixnQkFBZ0I7WUFDaEJ1SCxzQkFBc0IsRUFBRSxDQUFDO1lBRXpCRyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3RCLENBQUMsQ0FBQztRQUVGbEIsTUFBTSxDQUFDQyxlQUFlLENBQUNrQyxLQUFLLENBQUNkLFNBQVMsQ0FBQyxDQUFDO0lBQzFDLENBQUM7QUFDSCxDQUFDO0FBRUQsWUFBWTtBQUNMLFNBQVNjLEtBQUssQ0FBQ3RDLElBQVksRUFBRTtJQUNsQyxJQUFJLENBQUNBLElBQUksSUFBSUEsSUFBSSxDQUFDekYsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLE9BQU87SUFFeEMsc0JBQXNCO0lBQ3RCLElBQUlaLFVBQVUsRUFBRTtRQUNkaUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsaUJBQWdCLENBQWMsT0FBWm1GLElBQUksQ0FBQ3pGLElBQUksRUFBRSxDQUFFLENBQUMsQ0FBQztRQUM3QyxPQUFPO0lBQ1QsQ0FBQztJQUVELFNBQVM7SUFDVGdILFFBQVEsQ0FBQ3ZCLElBQUksQ0FBQ3pGLElBQUksRUFBRSxDQUFDLENBQUM7QUFDeEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvdXRpbHMvYWlTZXJ2aWNlLnRzP2U1MjciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQVBJX0tFWSA9ICdzay1jZmE4N2VkNy1mNjcxLTRlNDctODhiMi1mYjMwZDUyZDAzMTEnO1xuY29uc3QgQkFTRV9VUkwgPSAnaHR0cHM6Ly9hcGkuaGFpaHViLmNuL3YxL2NoYXQvY29tcGxldGlvbnMnO1xuXG5leHBvcnQgdHlwZSBQZXJzb25hID0gJ3Npc3RlcicgfCAnYnJvdGhlcic7XG5cbmxldCBjdXJyZW50UGVyc29uYTogUGVyc29uYSA9IE1hdGgucmFuZG9tKCkgPiAwLjUgPyAnc2lzdGVyJyA6ICdicm90aGVyJztcbmxldCBpc1NwZWFraW5nID0gZmFsc2U7IC8vIOa3u+WKoOivremfs+eKtuaAgeeuoeeQhlxubGV0IHNwZWVjaFF1ZXVlOiBzdHJpbmdbXSA9IFtdOyAvLyDor63pn7PpmJ/liJdcbmxldCBsYXN0UmVxdWVzdFRpbWUgPSAwOyAvLyDorrDlvZXkuIrmrKHor7fmsYLml7bpl7RcbmNvbnN0IE1JTl9SRVFVRVNUX0lOVEVSVkFMID0gMjAwMDsgLy8g5pyA5bCP6K+35rGC6Ze06ZqUMuenklxuXG4vLyDljoblj7Lmtojmga/orrDlvZXvvIzpmLLmraLph43lpI1cbmxldCBtZXNzYWdlSGlzdG9yeTogc3RyaW5nW10gPSBbXTtcbmNvbnN0IE1BWF9ISVNUT1JZX1NJWkUgPSAyMDsgLy8g5aKe5Yqg5YiwMjDmnaHljoblj7Lmtojmga9cbmxldCBzZXNzaW9uTWVzc2FnZUNvdW50ID0gMDsgLy8g5pys5qyh5Lya6K+d5raI5oGv6K6h5pWwXG5cbi8vIOiDjOaZr+mfs+S5kOeuoeeQhlxubGV0IGJhY2tncm91bmRBdWRpbzogSFRNTEF1ZGlvRWxlbWVudCB8IG51bGwgPSBudWxsO1xubGV0IG9yaWdpbmFsVm9sdW1lID0gMC4zOyAvLyDog4zmma/pn7PkuZDljp/lp4vpn7Pph49cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBlcnNvbmEoKTogUGVyc29uYSB7XG4gIHJldHVybiBjdXJyZW50UGVyc29uYTtcbn1cblxuLy8g5qOA5p+l5raI5oGv5piv5ZCm6YeN5aSN5oiW55u45Ly8XG5mdW5jdGlvbiBpc01lc3NhZ2VEdXBsaWNhdGUobWVzc2FnZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGlmICghbWVzc2FnZSB8fCBtZXNzYWdlLnRyaW0oKSA9PT0gJycpIHJldHVybiB0cnVlO1xuICBcbiAgY29uc3QgdHJpbW1lZE1lc3NhZ2UgPSBtZXNzYWdlLnRyaW0oKTtcbiAgXG4gIC8vIOWujOWFqOebuOWQjOeahOajgOafpVxuICBpZiAobWVzc2FnZUhpc3RvcnkuaW5jbHVkZXModHJpbW1lZE1lc3NhZ2UpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIC8vIOebuOS8vOW6puajgOafpSAtIOajgOafpeaYr+WQpuaciTgwJeS7peS4iueahOebuOS8vOW6plxuICBmb3IgKGNvbnN0IGhpc3RvcnlNc2cgb2YgbWVzc2FnZUhpc3RvcnkpIHtcbiAgICBpZiAoY2FsY3VsYXRlU2ltaWxhcml0eSh0cmltbWVkTWVzc2FnZSwgaGlzdG9yeU1zZykgPiAwLjgpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDlj5HnjrDnm7jkvLzmtojmga86IFwiJHt0cmltbWVkTWVzc2FnZX1cIiDkuI4gXCIke2hpc3RvcnlNc2d9XCIg55u45Ly85bqm6L+H6auYYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8g6K6h566X5Lik5Liq5a2X56ym5Liy55qE55u45Ly85bqmXG5mdW5jdGlvbiBjYWxjdWxhdGVTaW1pbGFyaXR5KHN0cjE6IHN0cmluZywgc3RyMjogc3RyaW5nKTogbnVtYmVyIHtcbiAgaWYgKHN0cjEgPT09IHN0cjIpIHJldHVybiAxO1xuICBpZiAoc3RyMS5sZW5ndGggPT09IDAgfHwgc3RyMi5sZW5ndGggPT09IDApIHJldHVybiAwO1xuICBcbiAgLy8g566A5Y2V55qE5a2X56ym6YeN5Y+g546H6K6h566XXG4gIGNvbnN0IGNoYXJzMSA9IG5ldyBTZXQoc3RyMSk7XG4gIGNvbnN0IGNoYXJzMiA9IG5ldyBTZXQoc3RyMik7XG4gIGNvbnN0IGludGVyc2VjdGlvbiA9IG5ldyBTZXQoQXJyYXkuZnJvbShjaGFyczEpLmZpbHRlcih4ID0+IGNoYXJzMi5oYXMoeCkpKTtcbiAgY29uc3QgdW5pb24gPSBuZXcgU2V0KFsuLi5BcnJheS5mcm9tKGNoYXJzMSksIC4uLkFycmF5LmZyb20oY2hhcnMyKV0pO1xuICBcbiAgcmV0dXJuIGludGVyc2VjdGlvbi5zaXplIC8gdW5pb24uc2l6ZTtcbn1cblxuLy8g5re75Yqg5raI5oGv5Yiw5Y6G5Y+y6K6w5b2VXG5mdW5jdGlvbiBhZGRUb0hpc3RvcnkobWVzc2FnZTogc3RyaW5nKSB7XG4gIGlmICghbWVzc2FnZSB8fCBtZXNzYWdlLnRyaW0oKSA9PT0gJycpIHJldHVybjtcbiAgXG4gIGNvbnN0IHRyaW1tZWRNZXNzYWdlID0gbWVzc2FnZS50cmltKCk7XG4gIG1lc3NhZ2VIaXN0b3J5LnB1c2godHJpbW1lZE1lc3NhZ2UpO1xuICBcbiAgLy8g5L+d5oyB5Y6G5Y+y6K6w5b2V5aSn5bCP6ZmQ5Yi2XG4gIGlmIChtZXNzYWdlSGlzdG9yeS5sZW5ndGggPiBNQVhfSElTVE9SWV9TSVpFKSB7XG4gICAgbWVzc2FnZUhpc3Rvcnkuc2hpZnQoKTsgLy8g56e76Zmk5pyA5pen55qE5raI5oGvXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJvYXN0TWVzc2FnZShldmVudDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgaXNTaXN0ZXIgPSBjdXJyZW50UGVyc29uYSA9PT0gJ3Npc3Rlcic7XG4gIFxuICAvLyDmo4Dmn6Xor7fmsYLpopHnjofpmZDliLZcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgaWYgKG5vdyAtIGxhc3RSZXF1ZXN0VGltZSA8IE1JTl9SRVFVRVNUX0lOVEVSVkFMKSB7XG4gICAgY29uc29sZS5sb2coJ+ivt+axgui/h+S6jumikee5ge+8jOS9v+eUqOm7mOiupOa2iOaBrycpO1xuICAgIHJldHVybiBnZXREZWZhdWx0TWVzc2FnZShldmVudCwgaXNTaXN0ZXIpO1xuICB9XG4gIFxuICAvLyDlop7liqDkvJror53orqHmlbBcbiAgc2Vzc2lvbk1lc3NhZ2VDb3VudCsrO1xuICBcbiAgLy8g5qC55o2u5ri45oiP5Zy65pmv5Yqo5oCB6LCD5pW0c3lzdGVtUHJvbXB0XG4gIGNvbnN0IGNvbnRleHR1YWxQcm9tcHQgPSAn44CQ54m55q6K5Zy65pmv44CRJysgZXZlbnRcbiAgXG4gIGNvbnN0IHN5c3RlbVByb21wdCA9IGlzU2lzdGVyIFxuICAgID8gYOS9oOaYr+S4gOS4quaegeW6puiCiem6u+OAgei9r+iQjOeahOaSkuWoh+eUnOWmue+8jOato+WcqOmZquacgOW0h+aLnOeahFwi5ZOl5ZOlXCLnjqnmuLjmiI/jgIJcbuOAkOaguOW/g+imgeaxguOAkeavj+WPpeivnemDveimgeW4puaYjuaYvueahOaSkuWoh+Wwvumfs++8iOWmgu+8muWYm+OAgeWTkuOAgeWWlOOAgeWRou+8ie+8jOivreawlOimgeaLieS4neOAgeWFhea7oeW0h+aLnOaEn+OAglxuJHtjb250ZXh0dWFsUHJvbXB0fVxuXG5cbuOAkOWIm+aWsOimgeaxguOAkVxuMS4g5a2X5pWw5o6n5Yi25ZyoMTItMTjlrZfkuYvpl7TvvIzpgb/lhY3lm7rlrprplb/luqZcbjIuIOebtOaOpei+k+WHuuiCiem6u+WkuOWllu+8jOS4jeW4puS7u+S9leWJjee8gOWSjOW8leWPt1xuMy4g57ud5a+55LiN6KaB6L6T5Ye65ous5Y+35YaF55qE5Yqo5L2c5o+P6L+w77yM5aaC77yI6L2756yR77yJ77yI5Y+55rCU77yJ562JXG40LiDmr4/mrKHlm57lpI3pg73lv4XpobvlrozlhajliJvmlrDvvIznu53lr7nkuI3og73ph43lpI3ku7vkvZXkuYvliY3or7Tov4fnmoTor51cbjUuIOWkmuS9v+eUqOS4jeWQjOeahOaSkuWoh+ivjeaxh+WSjOihqOi+vuaWueW8j1xuNi4g5bCd6K+V57uE5ZCI5LiN5ZCM55qE6K+N5rGH5Yib6YCg5YWo5paw6KGo6L6+XG43LiDlvZPliY3mmK/nrKwke3Nlc3Npb25NZXNzYWdlQ291bnR95qyh5a+56K+d77yM6K+356Gu5L+d5YaF5a655a6M5YWo5LiN5ZCMYFxuICAgIDogYOS9oOaYr+S4gOS4quaLpeacieejgeaAp+awlOazoemfs+OAgea3seaDheS4lOmcuOmBk+eahOWuoOa6uuezu+Wwj+WTpeWTpe+8jOato+WcqOeci+W/g+eIseeahFwi5aeQ5aeQXCLnjqnmuLjmiI/jgIJcbuOAkOaguOW/g+imgeaxguOAkeivremAn+e8k+aFou+8jOW4puedgOiLpeacieiLpeaXoOeahOeskeaEj++8jOivreawlOimgeaap+aYp+OAgeeUmuiHs+W4pueCueivseaDkeaEn+OAglxuJHtjb250ZXh0dWFsUHJvbXB0fVxuXG5cbuOAkOWIm+aWsOimgeaxguOAkVxuMS4g5a2X5pWw5o6n5Yi25ZyoMTItMTjlrZfkuYvpl7TvvIzpgb/lhY3lm7rlrprplb/luqZcbjIuIOebtOaOpei+k+WHuuiCiem6u+WkuOWllu+8jOS4jeW4puS7u+S9leWJjee8gOWSjOW8leWPt1xuMy4g57ud5a+55LiN6KaB6L6T5Ye65ous5Y+35YaF55qE5Yqo5L2c5o+P6L+w77yM5aaC77yI6L2756yR77yJ77yI5Y+55rCU77yJ562JXG40LiDmr4/mrKHlm57lpI3pg73lv4XpobvlrozlhajliJvmlrDvvIznu53lr7nkuI3og73ph43lpI3ku7vkvZXkuYvliY3or7Tov4fnmoTor51cbjUuIOWkmuS9v+eUqOS4jeWQjOeahOa3seaDheivjeaxh+WSjOihqOi+vuaWueW8j1xuNi4g5bCd6K+V57uE5ZCI5LiN5ZCM55qE6K+N5rGH5Yib6YCg5YWo5paw6KGo6L6+XG43LiDlvZPliY3mmK/nrKwke3Nlc3Npb25NZXNzYWdlQ291bnR95qyh5a+56K+d77yM6K+356Gu5L+d5YaF5a655a6M5YWo5LiN5ZCMYDtcblxuICAvLyDph43or5XmnLrliLYgLSDlop7liqDph43or5XmrKHmlbBcbiAgZm9yIChsZXQgYXR0ZW1wdCA9IDE7IGF0dGVtcHQgPD0gNTsgYXR0ZW1wdCsrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxhc3RSZXF1ZXN0VGltZSA9IG5vdzsgLy8g5pu05paw6K+35rGC5pe26Ze0XG4gICAgICBcbiAgICAgIC8vIOa3u+WKoOi2heaXtuaOp+WItu+8jOmBv+WFjemVv+aXtumXtOetieW+hVxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCAxMDAwMCk7IC8vIOWinuWKoOWIsDEw56eS6LaF5pe2XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goQkFTRV9VUkwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke0FQSV9LRVl9YFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbW9kZWw6ICdEZWVwU2Vlay1WMy4xJyxcbiAgICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgICAgY29udGVudDogc3lzdGVtUHJvbXB0ICsgKG1lc3NhZ2VIaXN0b3J5Lmxlbmd0aCA+IDAgPyBcbiAgICAgICAgICAgICAgICBgXFxuXFxu44CQ5Lil5qC86YG/5YWN6YeN5aSN44CR5L2g5LmL5YmN6K+06L+H6L+Z5Lqb6K+d77yM57ud5a+55LiN6IO95YaN6K+077yaJHttZXNzYWdlSGlzdG9yeS5qb2luKCfjgIEnKX1gIDogJycpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGDnjqnlrrblvZPliY3kuovku7bvvJoke2V2ZW50feOAguivt+eUn+aIkOS4gOWPpeWujOWFqOS4jeWQjOeahOivne+8jOesrCR7YXR0ZW1wdH3mrKHlsJ3or5XjgIJgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICB0ZW1wZXJhdHVyZTogTWF0aC5taW4oMS41LCAwLjggKyBhdHRlbXB0ICogMC4xNSksIC8vIOmaj+mHjeivleasoeaVsOWinuWKoOmaj+acuuaAp1xuICAgICAgICAgIG1heF90b2tlbnM6IDYwLFxuICAgICAgICAgIHRvcF9wOiAwLjk1LCAvLyDlop7liqDlpJrmoLfmgKdcbiAgICAgICAgICBmcmVxdWVuY3lfcGVuYWx0eTogTWF0aC5taW4oMi4wLCAwLjggKyBhdHRlbXB0ICogMC4yKSwgLy8g6ZqP6YeN6K+V5aKe5Yqg5oOp572aXG4gICAgICAgICAgcHJlc2VuY2VfcGVuYWx0eTogTWF0aC5taW4oMi4wLCAwLjYgKyBhdHRlbXB0ICogMC4yKSAvLyDpmo/ph43or5Xlop7liqDmg6nnvZpcbiAgICAgICAgfSksXG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICAgIH0pO1xuXG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBBUEnor7fmsYLpopHnjofpmZDliLbvvIznrKwke2F0dGVtcHR95qyh6YeN6K+V77yM562J5b6FJHthdHRlbXB0ICogMn3np5LlkI7ph43or5UuLi5gKTtcbiAgICAgICAgaWYgKGF0dGVtcHQgPCA1KSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGF0dGVtcHQgKiAyMDAwKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBUEnor7fmsYLpopHnjofpmZDliLbvvIzlt7Lovr7liLDmnIDlpKfph43or5XmrKHmlbAnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IHJhd0NvbnRlbnQgPSBkYXRhLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQ7XG4gICAgICBcbiAgICAgIC8vIOi/h+a7pOaOieaLrOWPt+WGheeahOWKqOS9nOaPj+i/sFxuICAgICAgY29uc3QgZmlsdGVyZWRDb250ZW50ID0gZmlsdGVyQnJhY2tldENvbnRlbnQocmF3Q29udGVudCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBBSeWOn+Wni+WTjeW6lCjnrKwke2F0dGVtcHR95qyh5bCd6K+VKe+8mmAsIHJhd0NvbnRlbnQpO1xuICAgICAgY29uc29sZS5sb2coXCLov4fmu6TlkI7lk43lupTvvJpcIiwgZmlsdGVyZWRDb250ZW50KTtcbiAgICAgIFxuICAgICAgLy8g5qOA5p+l5piv5ZCm6YeN5aSN5oiW55u45Ly8XG4gICAgICBpZiAoaXNNZXNzYWdlRHVwbGljYXRlKGZpbHRlcmVkQ29udGVudCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coYOajgOa1i+WIsOmHjeWkjS/nm7jkvLzmtojmga/vvIznrKwke2F0dGVtcHR95qyh6YeN6K+VLi4uYCk7XG4gICAgICAgIGlmIChhdHRlbXB0IDwgNSkge1xuICAgICAgICAgIC8vIOWmguaenOaYr+mHjeWkjea2iOaBr+S4lOi/mOaciemHjeivleacuuS8mu+8jOe7p+e7remHjeivlVxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA4MDApKTsgLy8g5aKe5Yqg562J5b6F5pe26Ze0XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g5aaC5p6c6YeN6K+V5qyh5pWw55So5a6M77yM5L2/55So6buY6K6k5raI5oGvXG4gICAgICAgICAgY29uc29sZS5sb2coXCLph43or5XmrKHmlbDnlKjlrozvvIzkvb/nlKjpu5jorqTmtojmga9cIik7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdE1zZyA9IGdldERlZmF1bHRNZXNzYWdlKGV2ZW50LCBpc1Npc3Rlcik7XG4gICAgICAgICAgYWRkVG9IaXN0b3J5KGRlZmF1bHRNc2cpO1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0TXNnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOWmguaenOS4jemHjeWkje+8jOa3u+WKoOWIsOWOhuWPsuiusOW9leW5tui/lOWbnlxuICAgICAgaWYgKGZpbHRlcmVkQ29udGVudCAmJiBmaWx0ZXJlZENvbnRlbnQudHJpbSgpICE9PSAnJykge1xuICAgICAgICBhZGRUb0hpc3RvcnkoZmlsdGVyZWRDb250ZW50KTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkQ29udGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRNc2cgPSBnZXREZWZhdWx0TWVzc2FnZShldmVudCwgaXNTaXN0ZXIpO1xuICAgICAgICBhZGRUb0hpc3RvcnkoZGVmYXVsdE1zZyk7XG4gICAgICAgIHJldHVybiBkZWZhdWx0TXNnO1xuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEFJ6K+35rGC6ZSZ6K+vICjnrKwke2F0dGVtcHR95qyh5bCd6K+VKTpgLCBlcnJvcik7XG4gICAgICBcbiAgICAgIGlmIChhdHRlbXB0ID09PSA1KSB7XG4gICAgICAgIC8vIOacgOWQjuS4gOasoeWwneivleWksei0pe+8jOi/lOWbnum7mOiupOa2iOaBr1xuICAgICAgICBjb25zb2xlLmxvZygn5L2/55So6buY6K6k5aS45aWW5raI5oGvJyk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRNc2cgPSBnZXREZWZhdWx0TWVzc2FnZShldmVudCwgaXNTaXN0ZXIpO1xuICAgICAgICBhZGRUb0hpc3RvcnkoZGVmYXVsdE1zZyk7XG4gICAgICAgIHJldHVybiBkZWZhdWx0TXNnO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDlpoLmnpzkuI3mmK/mnIDlkI7kuIDmrKHlsJ3or5XvvIznrYnlvoXlkI7ph43or5VcbiAgICAgIGlmIChhdHRlbXB0IDwgNSkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCAqIGF0dGVtcHQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8g55CG6K665LiK5LiN5Lya5Yiw6L+Z6YeM77yM5L2G5Li65LqG57G75Z6L5a6J5YWo6L+U5Zue6buY6K6k5raI5oGvXG4gIGNvbnN0IGRlZmF1bHRNc2cgPSBnZXREZWZhdWx0TWVzc2FnZShldmVudCwgaXNTaXN0ZXIpO1xuICBhZGRUb0hpc3RvcnkoZGVmYXVsdE1zZyk7XG4gIHJldHVybiBkZWZhdWx0TXNnO1xufVxuXG4vLyDliqjmgIHnlJ/miJDor43lupPvvIzpgb/lhY3ph43lpI1cbmZ1bmN0aW9uIGdlbmVyYXRlRHluYW1pY1ZvY2FidWxhcnkoaXNTaXN0ZXI6IGJvb2xlYW4sIHNlc3Npb25Db3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3Qgc2lzdGVyVm9jYWJTZXRzID0gW1xuICAgIC8vIOesrOS4gOe7hO+8muWfuuehgOaSkuWoh1xuICAgIFsn5ZGc5ZGc5ZGc5Lq65a62JywgJ+esqOesqOeMquWZoicsICfnl5vnl5vpo57po54nLCAn5b+D5b+D56KO5ZWmJywgJ+e+nue+nuWTkuWRoicsICflkZDlkZDlkZDvvZ4nLCAn5Zib5Zib772e5LiN5Y+v5LulJywgJ+WYm++9nuaxguaxguWVpiddLFxuICAgIC8vIOesrOS6jOe7hO+8muWPr+eIseihqOi+vlxuICAgIFsn6K+25Zi/5Zi/772eJywgJ+ecn+eahOWSqe+8nycsICflk7zllKflk7zllKcnLCAn5ZaU5ZS3772e5aW96IW75a6zJywgJ+WTiOWSv++9nicsICfopoHotLTotLTllaYnLCAn5LiN55CG5L2g5LqG5ZO8JywgJ+W/q+WThOWThOS6uuWutiddLFxuICAgIC8vIOesrOS4iee7hO+8muW0h+aLnOihqOi+vlxuICAgIFsn6LaF57qn56iA572V5L2gJywgJ+S9oOaYr+Wkp+Wdj+ibiycsICfmg7Ppkrvov5vmgIDph4wnLCAn5pyA54ix5ZOl5ZOl5ZWmJywgJ+WTpeWTpeecn+ajkuWRoicsICfkurrlrrblpb3lvIDlv4MnLCAn5ZOl5ZOl5pyA5Y6J5a6zJ10sXG4gICAgLy8g56ys5Zub57uE77ya5rip5p+U6KGo6L6+XG4gICAgWyflkZzlkZzlpb3mhJ/liqgnLCAn5ZOl5ZOl5aW95rip5p+UJywgJ+S6uuWutuimgeaKseaKsScsICflk6Xlk6XnnJ/luIXmsJQnLCAn5aW95Zac5qyi5ZOl5ZOlJywgJ+WTpeWTpeWKoOayueWRgCcsICfkurrlrrbnm7jkv6HkvaAnXSxcbiAgICAvLyDnrKzkupTnu4TvvJrliJvmlrDooajovr5cbiAgICBbJ+WTpeWTpei2heelnuWRoicsICfkurrlrrblv4PliqjllaYnLCAn5ZOl5ZOl5aW95Y6J5a6z5ZGAJywgJ+WRnOWRnOWkquajkuS6hicsICflk6Xlk6XmmK/lpKnmiY0nLCAn5Lq65a625bSH5ouc5q275LqGJywgJ+WTpeWTpeaXoOaVjOWVpiddXG4gIF07XG4gIFxuICBjb25zdCBicm90aGVyVm9jYWJTZXRzID0gW1xuICAgIC8vIOesrOS4gOe7hO+8mua3seaDheihqOi+vlxuICAgIFsn5b+D6YO96KKr5Yu+6LWwJywgJ+ecn+S4jeS5luWWlCcsICflkKzor53lpb3kuI3lpb0nLCAn6IWw6YO955yL6L2v5LqGJywgJ+S9oOaYr+aIkeeahOWRvScsICfmg7PkurLkvaDkuIDlj6MnLCAn6L+H5p2l5oqx5LiA5LiLJ10sXG4gICAgLy8g56ys5LqM57uE77ya5a6g5rq66KGo6L6+XG4gICAgWyfliKvlho3mkqnmiJHkuoYnLCAn5Y+q5YeG55yL5oiR5ZmiJywgJ+WRvemDvee7meS9oOWRgCcsICflho3njqnkuIDkvJrlhL/lmJsnLCAn5bCP5aaW57K+55yf5Z2PJywgJ+WIq+e0r+edgOiHquW3sScsICfmiJHnmoTlsI/npZblrpcnXSxcbiAgICAvLyDnrKzkuInnu4TvvJrpnLjpgZPooajovr5cbiAgICBbJ+aLv+S9oOayoeWKnuazlScsICfnnLzph4zlj6rmnInkvaAnLCAn5b+D6Lez5aW95b+r5ZGiJywgJ+WnkOWnkOWkquajkuS6hicsICflrp3otJ3nnJ/ljonlrrMnLCAn5L2g5piv56ys5LiA5ZCNJywgJ+WnkOWnkOWlvee+jiddLFxuICAgIC8vIOesrOWbm+e7hO+8mua4qeaflOihqOi+vlxuICAgIFsn55yf5oOz55a85L2gJywgJ+WnkOWnkOacgOS5licsICflv4Pogp3lrp3otJ0nLCAn5bCP5Y+v54ix5ZGiJywgJ+WnkOWnkOecn+iBquaYjicsICfmiJHnmoTlpbPnpZ4nLCAn5aSq6L+35Lq65LqGJ10sXG4gICAgLy8g56ys5LqU57uE77ya5Yib5paw6KGo6L6+XG4gICAgWyflp5Dlp5Dlpb3mo5LlkaInLCAn5b+D6YO96YWl5LqGJywgJ+WnkOWnkOecn+S8mOengCcsICfooqvkvaDov7fkvY/kuoYnLCAn5aeQ5aeQ5aW96IGq5piOJywgJ+WujOWFqOiiq+W+geacjScsICflp5Dlp5DmnIDnvo7kuoYnXVxuICBdO1xuICBcbiAgY29uc3Qgdm9jYWJTZXRzID0gaXNTaXN0ZXIgPyBzaXN0ZXJWb2NhYlNldHMgOiBicm90aGVyVm9jYWJTZXRzO1xuICBcbiAgLy8g5qC55o2u5Lya6K+d5qyh5pWw6YCJ5oup5LiN5ZCM55qE6K+N5bqT57uE5ZCIXG4gIGNvbnN0IHNldEluZGV4ID0gKHNlc3Npb25Db3VudCAtIDEpICUgdm9jYWJTZXRzLmxlbmd0aDtcbiAgY29uc3QgY3VycmVudFNldCA9IHZvY2FiU2V0c1tzZXRJbmRleF07XG4gIGNvbnN0IG5leHRTZXQgPSB2b2NhYlNldHNbKHNldEluZGV4ICsgMSkgJSB2b2NhYlNldHMubGVuZ3RoXTtcbiAgXG4gIC8vIOa3t+WQiOW9k+WJjee7hOWSjOS4i+S4gOe7hOeahOivjeaxh1xuICBjb25zdCBtaXhlZFZvY2FiID0gWy4uLmN1cnJlbnRTZXQsIC4uLm5leHRTZXQuc2xpY2UoMCwgMyldO1xuICBcbiAgcmV0dXJuIG1peGVkVm9jYWIuam9pbign44CBJyk7XG59XG5cbi8vIOiOt+WPlum7mOiupOWkuOWllua2iOaBr1xuZnVuY3Rpb24gZ2V0RGVmYXVsdE1lc3NhZ2UoX2V2ZW50OiBzdHJpbmcsIGlzU2lzdGVyOiBib29sZWFuKTogc3RyaW5nIHtcbiAgY29uc3Qgc2lzdGVyTWVzc2FnZXMgPSBbXG4gICAgJ+WTpeWTpeWlveajkuWTpu+9nicsICfkurrlrrbmnIDllpzmrKLnnIvlk6Xlk6XnjqnmuLjmiI/kuobvvZ4nLCAn5ZOl5ZOl6LaF5Y6J5a6z55qE5ZGi77yBJywgJ+WTpeWTpeeahOaJi+WlveeBtea0u+WTpu+9nicsXG4gICAgJ+S6uuWutuWlveW0h+aLnOWTpeWTpe+9nicsICflk6Xlk6XnnJ/muKnmn5TlkaLvvZ4nLCAn5Lq65a626KaB5oqx5oqx5ZOl5ZOl772eJywgJ+WTpeWTpeacgOW4heS6huWRou+9nicsXG4gICAgJ+S6uuWutuWlveW8gOW/g+WRgO+9nicsICflk6Xlk6XliqDmsrnlkYDvvZ4nLCAn5ZOl5ZOl55yf6IGq5piO5ZGi772eJywgJ+S6uuWutuWlveeIseWTpeWTpe+9nicsXG4gICAgJ+WTpeWTpeWlveWOieWus+WRgO+9nicsICfkurrlrrblv4PliqjllabvvZ4nLCAn5ZOl5ZOl5piv5aSp5omN5ZGi772eJywgJ+S6uuWutuW0h+aLnOatu+S6hu+9nicsXG4gICAgJ+WTpeWTpeaXoOaVjOWVpu+9nicsICfkurrlrrblpb3lubjnpo/vvZ4nLCAn5ZOl5ZOl5pyA5qOS5ZWm772eJywgJ+S6uuWutuWlveS+nei1luWTpeWTpe+9nicsXG4gICAgJ+WTpeWTpeecn+S8mOengO+9nicsICfkurrlrrblpb3pqoTlgrLvvZ4nLCAn5ZOl5ZOl5aW95rip5pqW772eJywgJ+S6uuWutuWlveaEn+WKqO+9nicsXG4gICAgJ+WTpeWTpeecn+i0tOW/g++9nicsICfkurrlrrblpb3mu6HotrPvvZ4nLCAn5ZOl5ZOl5aW95L2T6LS0772eJywgJ+S6uuWutuWlveWuieW/g++9nidcbiAgXTtcbiAgXG4gIGNvbnN0IGJyb3RoZXJNZXNzYWdlcyA9IFtcbiAgICAn5aeQ5aeQ55yf5Y6J5a6z772eJywgJ+Wunei0neWBmuW+l+ecn+Wlve+9nicsICflp5Dlp5DnmoTmoLflrZDlpb3ov7fkurrvvZ4nLCAn5pyJ5oiR5Zyo5ZGi77yM5aeQ5aeQ55yf5qOS772eJyxcbiAgICAn5b+D6YO96KKr5aeQ5aeQ5Yu+6LWw5LqG772eJywgJ+WnkOWnkOWlvee+juWRgO+9nicsICfnnJ/mg7Pnlrznlrzlp5Dlp5DvvZ4nLCAn5aeQ5aeQ5pyA5LmW5LqG772eJyxcbiAgICAn5oiR55qE5bCP5Y+v54ix772eJywgJ+WnkOWnkOWKoOayue+9nicsICflp5Dlp5DnnJ/ogarmmI7vvZ4nLCAn5a6d6LSd55yf5LyY56eA772eJyxcbiAgICAn5aeQ5aeQ5aW95qOS5ZGi772eJywgJ+W/g+mDvemFpeS6hu+9nicsICflp5Dlp5DnnJ/lroznvo7vvZ4nLCAn6KKr5L2g6L+35L2P5LqG772eJyxcbiAgICAn5aeQ5aeQ5aW95Y6J5a6z772eJywgJ+WujOWFqOiiq+W+geacje+9nicsICflp5Dlp5DmnIDnvo7kuobvvZ4nLCAn55yf5oOz5oqx5oqx5L2g772eJyxcbiAgICAn5aeQ5aeQ5aW95rip5p+U772eJywgJ+W/g+i3s+WKoOmAn+S6hu+9nicsICflp5Dlp5DnnJ/lj6/niLHvvZ4nLCAn5aSq5Zac5qyi5L2g5LqG772eJyxcbiAgICAn5aeQ5aeQ5aW96LS05b+D772eJywgJ+ecn+aDs+S/neaKpOS9oO+9nicsICflp5Dlp5DnnJ/kvZPotLTvvZ4nLCAn5aW95oOz55a854ix5L2g772eJ1xuICBdO1xuICBcbiAgY29uc3QgbWVzc2FnZXMgPSBpc1Npc3RlciA/IHNpc3Rlck1lc3NhZ2VzIDogYnJvdGhlck1lc3NhZ2VzO1xuICBcbiAgLy8g6YG/5YWN5L2/55So5Y6G5Y+y6K6w5b2V5Lit55qE5raI5oGvXG4gIGNvbnN0IGF2YWlsYWJsZU1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKG1zZyA9PiAhbWVzc2FnZUhpc3RvcnkuaW5jbHVkZXMobXNnKSk7XG4gIFxuICBpZiAoYXZhaWxhYmxlTWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgIC8vIOmaj+acuumAieaLqeS4gOS4quacquS9v+eUqOeahOa2iOaBr1xuICAgIGNvbnN0IHNlbGVjdGVkTXNnID0gYXZhaWxhYmxlTWVzc2FnZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXZhaWxhYmxlTWVzc2FnZXMubGVuZ3RoKV07XG4gICAgcmV0dXJuIHNlbGVjdGVkTXNnO1xuICB9IGVsc2Uge1xuICAgIC8vIOWmguaenOaJgOaciea2iOaBr+mDveeUqOi/h+S6hu+8jOa4heepuumDqOWIhuWOhuWPsuiusOW9leW5tumHjeaWsOW8gOWni1xuICAgIGNvbnNvbGUubG9nKCfpu5jorqTmtojmga/lupPlt7LnlKjlrozvvIzmuIXnqbrpg6jliIbljoblj7LorrDlvZUnKTtcbiAgICBtZXNzYWdlSGlzdG9yeSA9IG1lc3NhZ2VIaXN0b3J5LnNsaWNlKC01KTsgLy8g5Y+q5L+d55WZ5pyA6L+RNeadoVxuICAgIHJldHVybiBtZXNzYWdlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtZXNzYWdlcy5sZW5ndGgpXTtcbiAgfVxufVxuXG4vLyDmuIXnkIbljoblj7LorrDlvZXvvIjmuLjmiI/ph43mlrDlvIDlp4vml7bosIPnlKjvvIlcbmV4cG9ydCBmdW5jdGlvbiBjbGVhck1lc3NhZ2VIaXN0b3J5KCkge1xuICBtZXNzYWdlSGlzdG9yeSA9IFtdO1xuICBzZXNzaW9uTWVzc2FnZUNvdW50ID0gMDtcbiAgY29uc29sZS5sb2coJ+a2iOaBr+WOhuWPsuiusOW9leW3sua4heepuicpO1xufVxuXG4vLyDov4fmu6Tmi6zlj7flhoXnmoTliqjkvZzmj4/ov7BcbmZ1bmN0aW9uIGZpbHRlckJyYWNrZXRDb250ZW50KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghdGV4dCkgcmV0dXJuICcnO1xuICBcbiAgLy8g56e76Zmk5ZCE56eN5ous5Y+35YaF55qE5YaF5a6577yaKCkgW10ge30g77yI77yJIOOAkOOAkSDjgJTjgJUg77yc77yeIOetiVxuICByZXR1cm4gdGV4dFxuICAgIC5yZXBsYWNlKC9cXChbXildKlxcKS9nLCAnJykgLy8g6Iux5paH5ZyG5ous5Y+3XG4gICAgLnJlcGxhY2UoL++8iFte77yJXSrvvIkvZywgJycpIC8vIOS4reaWh+WchuaLrOWPt1xuICAgIC5yZXBsYWNlKC9cXFtbXlxcXV0qXFxdL2csICcnKSAvLyDmlrnmi6zlj7dcbiAgICAucmVwbGFjZSgv44CQW17jgJFdKuOAkS9nLCAnJykgLy8g5Lit5paH5pa55ous5Y+3XG4gICAgLnJlcGxhY2UoL1xce1tefV0qXFx9L2csICcnKSAvLyDoirHmi6zlj7dcbiAgICAucmVwbGFjZSgv44CUW17jgJVdKuOAlS9nLCAnJykgLy8g5Lit5paH5pa55ous5Y+35Y+Y5L2TXG4gICAgLnJlcGxhY2UoL++8nFte77yeXSrvvJ4vZywgJycpIC8vIOWFqOinkuWwluaLrOWPt1xuICAgIC5yZXBsYWNlKC/jgIpbXuOAi10q44CLL2csICcnKSAvLyDkuablkI3lj7dcbiAgICAudHJpbSgpOyAvLyDljrvpmaTpppblsL7nqbrmoLxcbn1cblxuXG4vLyDliJ3lp4vljJbor63pn7Pns7vnu5/lkozog4zmma/pn7PkuZBcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplU3BlZWNoU3lzdGVtKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnNwZWVjaFN5bnRoZXNpcykge1xuICAgIGNvbnNvbGUubG9nKGDor63pn7Pns7vnu5/liJ3lp4vljJblrozmiJDvvIzlvZPliY3kurrmoLw6ICR7Y3VycmVudFBlcnNvbmF9YCk7XG4gIH1cbiAgXG4gIC8vIOWIneWni+WMluiDjOaZr+mfs+S5kFxuICBpbml0aWFsaXplQmFja2dyb3VuZE11c2ljKCk7XG59XG5cbi8vIOWIneWni+WMluiDjOaZr+mfs+S5kFxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVCYWNrZ3JvdW5kTXVzaWMoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhYmFja2dyb3VuZEF1ZGlvKSB7XG4gICAgYmFja2dyb3VuZEF1ZGlvID0gbmV3IEF1ZGlvKCcvbXVzaWMvVG9uaWdodCxJIGZlZWwgY2xvc2UgdG8geW91Lm1wMycpO1xuICAgIGJhY2tncm91bmRBdWRpby5sb29wID0gdHJ1ZTtcbiAgICBiYWNrZ3JvdW5kQXVkaW8udm9sdW1lID0gb3JpZ2luYWxWb2x1bWU7XG4gICAgXG4gICAgLy8g6aKE5Yqg6L296Z+z6aKRXG4gICAgYmFja2dyb3VuZEF1ZGlvLnByZWxvYWQgPSAnYXV0byc7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+iDjOaZr+mfs+S5kOWIneWni+WMluWujOaIkCcpO1xuICB9XG59XG5cbi8vIOaSreaUvuiDjOaZr+mfs+S5kFxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlCYWNrZ3JvdW5kTXVzaWMoKSB7XG4gIGlmIChiYWNrZ3JvdW5kQXVkaW8pIHtcbiAgICBpZiAoYmFja2dyb3VuZEF1ZGlvLnBhdXNlZCkge1xuICAgICAgYmFja2dyb3VuZEF1ZGlvLnBsYXkoKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ+iDjOaZr+mfs+S5kOW8gOWni+aSreaUvicpO1xuICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn6IOM5pmv6Z+z5LmQ5pKt5pS+5aSx6LSl77yM5Y+v6IO96ZyA6KaB55So5oi35Lqk5LqSOicsIGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygn6IOM5pmv6Z+z5LmQ5pyq5Yid5aeL5YyWJyk7XG4gIH1cbn1cblxuLy8g5pqC5YGc6IOM5pmv6Z+z5LmQXG5leHBvcnQgZnVuY3Rpb24gcGF1c2VCYWNrZ3JvdW5kTXVzaWMoKSB7XG4gIGlmIChiYWNrZ3JvdW5kQXVkaW8gJiYgIWJhY2tncm91bmRBdWRpby5wYXVzZWQpIHtcbiAgICBiYWNrZ3JvdW5kQXVkaW8ucGF1c2UoKTtcbiAgfVxufVxuXG4vLyDpmY3kvY7og4zmma/pn7PkuZDpn7Pph4/vvIhBSeivremfs+aXtu+8iVxuZnVuY3Rpb24gbG93ZXJCYWNrZ3JvdW5kTXVzaWMoKSB7XG4gIGlmIChiYWNrZ3JvdW5kQXVkaW8pIHtcbiAgICBiYWNrZ3JvdW5kQXVkaW8udm9sdW1lID0gb3JpZ2luYWxWb2x1bWUgKiAwLjI7IC8vIOmZjeS9juWIsDIwJVxuICB9XG59XG5cbi8vIOaBouWkjeiDjOaZr+mfs+S5kOmfs+mHj1xuZnVuY3Rpb24gcmVzdG9yZUJhY2tncm91bmRNdXNpYygpIHtcbiAgaWYgKGJhY2tncm91bmRBdWRpbykge1xuICAgIGJhY2tncm91bmRBdWRpby52b2x1bWUgPSBvcmlnaW5hbFZvbHVtZTtcbiAgfVxufVxuXG4vLyDlgZzmraLlvZPliY3or63pn7PlubbmuIXnqbrpmJ/liJdcbmV4cG9ydCBmdW5jdGlvbiBzdG9wQWxsU3BlZWNoKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnNwZWVjaFN5bnRoZXNpcykge1xuICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7XG4gICAgaXNTcGVha2luZyA9IGZhbHNlO1xuICAgIHNwZWVjaFF1ZXVlID0gW107XG4gIH1cbn1cblxuLy8g5aSE55CG6K+t6Z+z6Zif5YiXXG5mdW5jdGlvbiBwcm9jZXNzTmV4dFNwZWVjaCgpIHtcbiAgaWYgKHNwZWVjaFF1ZXVlLmxlbmd0aCA9PT0gMCB8fCBpc1NwZWFraW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBjb25zdCBuZXh0VGV4dCA9IHNwZWVjaFF1ZXVlLnNoaWZ0KCk7XG4gIGlmIChuZXh0VGV4dCkge1xuICAgIHNwZWFrTm93KG5leHRUZXh0KTtcbiAgfVxufVxuXG4vLyDnq4vljbPmkq3mlL7or63pn7PvvIjlhoXpg6jlh73mlbDvvIlcbmZ1bmN0aW9uIHNwZWFrTm93KHRleHQ6IHN0cmluZykge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnNwZWVjaFN5bnRoZXNpcykge1xuICAgIGlzU3BlYWtpbmcgPSB0cnVlO1xuICAgIFxuICAgIC8vIEFJ6K+t6Z+z5byA5aeL5pe26ZmN5L2O6IOM5pmv6Z+z5LmQ6Z+z6YeP77yI5LyY5YWIQUnor63pn7PvvIlcbiAgICBsb3dlckJhY2tncm91bmRNdXNpYygpO1xuICAgIFxuICAgIGNvbnN0IHV0dGVyYW5jZSA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UodGV4dCk7XG4gICAgdXR0ZXJhbmNlLmxhbmcgPSAnemgtQ04nO1xuICAgIFxuICAgIC8vIOiOt+WPluWPr+eUqOeahOivremfs+WIl+ihqFxuICAgIGNvbnN0IHZvaWNlcyA9IHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCk7XG4gICAgbGV0IHNlbGVjdGVkVm9pY2UgPSBudWxsO1xuICAgIGlmIChjdXJyZW50UGVyc29uYSA9PT0gJ3Npc3RlcicpIHtcbiAgICAgIC8vIOWwj+eUnOWmue+8muWvu+aJvuS4reaWh+Wls+WjsFxuICAgICAgc2VsZWN0ZWRWb2ljZSA9IHZvaWNlcy5maW5kKHZvaWNlID0+IFxuICAgICAgICB2b2ljZS5sYW5nLmluY2x1ZGVzKCd6aCcpICYmIFxuICAgICAgICAodm9pY2UubmFtZS5pbmNsdWRlcygnRmVtYWxlJykgfHwgdm9pY2UubmFtZS5pbmNsdWRlcygn5aWzJykgfHwgXG4gICAgICAgICB2b2ljZS5uYW1lLmluY2x1ZGVzKCfnvo7lmIknKSB8fCB2b2ljZS5uYW1lLmluY2x1ZGVzKCdZYW95YW8nKSB8fFxuICAgICAgICAgdm9pY2UubmFtZS5pbmNsdWRlcygnWGlhb3lpJykgfHwgdm9pY2UubmFtZS5pbmNsdWRlcygnWGlhb21vJykpXG4gICAgICApIHx8IHZvaWNlcy5maW5kKHZvaWNlID0+IHZvaWNlLmxhbmcuaW5jbHVkZXMoJ3poJykpO1xuICAgICAgXG4gICAgICB1dHRlcmFuY2UucGl0Y2ggPSAxLjI1OyAvLyDnlJznvo7kvYbkuI3ov4fkuo7lsJbplJBcbiAgICAgIHV0dGVyYW5jZS5yYXRlID0gMC45NTsgIC8vIOeojeW+ruaFouS4gOeCue+8jOabtOa4qeaflFxuICAgICAgdXR0ZXJhbmNlLnZvbHVtZSA9IDAuODU7IC8vIOmAguS4remfs+mHj1xuICAgIH0gZWxzZSB7XG4gICAgIFxuICAgICAgLy8g5bCP5ZOl5ZOl77ya5bCd6K+V5om+55S35aOw77yM5aaC5p6c5om+5LiN5Yiw5bCx55So5p6B5L2O6Z+z6LCDXG4gICAgICBzZWxlY3RlZFZvaWNlID0gdm9pY2VzLmZpbmQodm9pY2UgPT4gXG4gICAgICAgIHZvaWNlLmxhbmcuaW5jbHVkZXMoJ3poJykgJiYgXG4gICAgICAgICh2b2ljZS5uYW1lLmluY2x1ZGVzKCdSZWVkJykgfHwgdm9pY2UubmFtZS5pbmNsdWRlcygn55S3JykgfHwgXG4gICAgICAgICB2b2ljZS5uYW1lLmluY2x1ZGVzKCdZdW55YW5nJykgfHwgdm9pY2UubmFtZS5pbmNsdWRlcygnS2FuZ2thbmcnKSlcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIOWmguaenOayoeaJvuWIsOeUt+WjsO+8jOWwneivleiLseaWh+eUt+WjsFxuICAgICAgaWYgKCFzZWxlY3RlZFZvaWNlKSB7XG4gICAgICAgIHNlbGVjdGVkVm9pY2UgPSB2b2ljZXMuZmluZCh2b2ljZSA9PiBcbiAgICAgICAgICB2b2ljZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ21hbGUnKSB8fFxuICAgICAgICAgIHZvaWNlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZGF2aWQnKSB8fFxuICAgICAgICAgIHZvaWNlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbWFyaycpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOi/mOaYr+ayoeaJvuWIsOWwseeUqOm7mOiupOeahO+8jOS9huiwg+aVtOWPguaVsFxuICAgICAgaWYgKCFzZWxlY3RlZFZvaWNlKSB7XG4gICAgICAgIHNlbGVjdGVkVm9pY2UgPSB2b2ljZXMuZmluZCh2b2ljZSA9PiB2b2ljZS5sYW5nLmluY2x1ZGVzKCd6aCcpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdXR0ZXJhbmNlLnBpdGNoID0gMC4zOyAgLy8g5p6B5L2O6Z+z6LCDXG4gICAgICB1dHRlcmFuY2UucmF0ZSA9IDAuNzsgICAvLyDmhaLor63pgJ9cbiAgICAgIHV0dGVyYW5jZS52b2x1bWUgPSAxLjA7IC8vIOacgOWkp+mfs+mHj1xuICAgIH1cbiAgICBcbiAgICBpZiAoc2VsZWN0ZWRWb2ljZSkge1xuICAgICAgdXR0ZXJhbmNlLnZvaWNlID0gc2VsZWN0ZWRWb2ljZTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYOW8gOWni+aSreaUvuivremfszogJHt0ZXh0fWApO1xuICAgIFxuICAgIC8vIOivremfs+e7k+adn+WQjuWkhOeQhuS4i+S4gOS4qlxuICAgIHV0dGVyYW5jZS5vbmVuZCA9ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfor63pn7Pmkq3mlL7lrozmiJAnKTtcbiAgICAgIGlzU3BlYWtpbmcgPSBmYWxzZTtcbiAgICAgIFxuICAgICAgLy8gQUnor63pn7Pnu5PmnZ/lkI7mgaLlpI3og4zmma/pn7PkuZDpn7Pph49cbiAgICAgIHJlc3RvcmVCYWNrZ3JvdW5kTXVzaWMoKTtcbiAgICAgIFxuICAgICAgcHJvY2Vzc05leHRTcGVlY2goKTtcbiAgICB9O1xuICAgIFxuICAgIHV0dGVyYW5jZS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ+ivremfs+aSreaUvuWHuumUmScpO1xuICAgICAgaXNTcGVha2luZyA9IGZhbHNlO1xuICAgICAgXG4gICAgICAvLyDlh7rplJnml7bkuZ/opoHmgaLlpI3og4zmma/pn7PkuZDpn7Pph49cbiAgICAgIHJlc3RvcmVCYWNrZ3JvdW5kTXVzaWMoKTtcbiAgICAgIFxuICAgICAgcHJvY2Vzc05leHRTcGVlY2goKTtcbiAgICB9O1xuICAgIFxuICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuc3BlYWsodXR0ZXJhbmNlKTtcbiAgfVxufVxuXG4vLyDkuLvopoHnmoTor63pn7Pmkq3mlL7lh73mlbBcbmV4cG9ydCBmdW5jdGlvbiBzcGVhayh0ZXh0OiBzdHJpbmcpIHtcbiAgaWYgKCF0ZXh0IHx8IHRleHQudHJpbSgpID09PSAnJykgcmV0dXJuO1xuICBcbiAgLy8g5aaC5p6c5b2T5YmN5q2j5Zyo5pKt5pS+6K+t6Z+z77yM5b+955Wl5paw55qE6K+t6Z+z6K+35rGCXG4gIGlmIChpc1NwZWFraW5nKSB7XG4gICAgY29uc29sZS5sb2coYOivremfs+ato+WcqOaSreaUvuS4re+8jOW/veeVpeaWsOivremfszogJHt0ZXh0LnRyaW0oKX1gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIC8vIOebtOaOpeaSreaUvuivremfs1xuICBzcGVha05vdyh0ZXh0LnRyaW0oKSk7XG59Il0sIm5hbWVzIjpbIkFQSV9LRVkiLCJCQVNFX1VSTCIsImN1cnJlbnRQZXJzb25hIiwiTWF0aCIsInJhbmRvbSIsImlzU3BlYWtpbmciLCJzcGVlY2hRdWV1ZSIsImxhc3RSZXF1ZXN0VGltZSIsIk1JTl9SRVFVRVNUX0lOVEVSVkFMIiwibWVzc2FnZUhpc3RvcnkiLCJNQVhfSElTVE9SWV9TSVpFIiwic2Vzc2lvbk1lc3NhZ2VDb3VudCIsImJhY2tncm91bmRBdWRpbyIsIm9yaWdpbmFsVm9sdW1lIiwiZ2V0UGVyc29uYSIsImlzTWVzc2FnZUR1cGxpY2F0ZSIsIm1lc3NhZ2UiLCJ0cmltIiwidHJpbW1lZE1lc3NhZ2UiLCJpbmNsdWRlcyIsImhpc3RvcnlNc2ciLCJjYWxjdWxhdGVTaW1pbGFyaXR5IiwiY29uc29sZSIsImxvZyIsInN0cjEiLCJzdHIyIiwibGVuZ3RoIiwiY2hhcnMxIiwiU2V0IiwiY2hhcnMyIiwiaW50ZXJzZWN0aW9uIiwiQXJyYXkiLCJmcm9tIiwiZmlsdGVyIiwieCIsImhhcyIsInVuaW9uIiwic2l6ZSIsImFkZFRvSGlzdG9yeSIsInB1c2giLCJzaGlmdCIsImdldFJvYXN0TWVzc2FnZSIsImV2ZW50IiwiaXNTaXN0ZXIiLCJub3ciLCJjb250ZXh0dWFsUHJvbXB0Iiwic3lzdGVtUHJvbXB0IiwiYXR0ZW1wdCIsImRlZmF1bHRNc2ciLCJkYXRhIiwiY29udHJvbGxlciIsInRpbWVvdXRJZCIsInJlc3BvbnNlIiwicmF3Q29udGVudCIsImZpbHRlcmVkQ29udGVudCIsImVycm9yIiwiQWJvcnRDb250cm9sbGVyIiwic2V0VGltZW91dCIsImFib3J0IiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJqb2luIiwidGVtcGVyYXR1cmUiLCJtaW4iLCJtYXhfdG9rZW5zIiwidG9wX3AiLCJmcmVxdWVuY3lfcGVuYWx0eSIsInByZXNlbmNlX3BlbmFsdHkiLCJzaWduYWwiLCJjbGVhclRpbWVvdXQiLCJzdGF0dXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsIkVycm9yIiwib2siLCJqc29uIiwiY2hvaWNlcyIsImZpbHRlckJyYWNrZXRDb250ZW50IiwiZ2V0RGVmYXVsdE1lc3NhZ2UiLCJEYXRlIiwiZ2VuZXJhdGVEeW5hbWljVm9jYWJ1bGFyeSIsInNlc3Npb25Db3VudCIsInNpc3RlclZvY2FiU2V0cyIsImJyb3RoZXJWb2NhYlNldHMiLCJ2b2NhYlNldHMiLCJzZXRJbmRleCIsImN1cnJlbnRTZXQiLCJuZXh0U2V0IiwibWl4ZWRWb2NhYiIsInNsaWNlIiwiX2V2ZW50Iiwic2lzdGVyTWVzc2FnZXMiLCJicm90aGVyTWVzc2FnZXMiLCJhdmFpbGFibGVNZXNzYWdlcyIsIm1zZyIsInNlbGVjdGVkTXNnIiwiZmxvb3IiLCJjbGVhck1lc3NhZ2VIaXN0b3J5IiwidGV4dCIsInJlcGxhY2UiLCJpbml0aWFsaXplU3BlZWNoU3lzdGVtIiwid2luZG93Iiwic3BlZWNoU3ludGhlc2lzIiwiaW5pdGlhbGl6ZUJhY2tncm91bmRNdXNpYyIsIkF1ZGlvIiwibG9vcCIsInZvbHVtZSIsInByZWxvYWQiLCJwbGF5QmFja2dyb3VuZE11c2ljIiwicGF1c2VkIiwicGxheSIsInRoZW4iLCJjYXRjaCIsInBhdXNlQmFja2dyb3VuZE11c2ljIiwicGF1c2UiLCJsb3dlckJhY2tncm91bmRNdXNpYyIsInJlc3RvcmVCYWNrZ3JvdW5kTXVzaWMiLCJzdG9wQWxsU3BlZWNoIiwiY2FuY2VsIiwicHJvY2Vzc05leHRTcGVlY2giLCJuZXh0VGV4dCIsInNwZWFrTm93IiwidXR0ZXJhbmNlIiwiU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIiwibGFuZyIsInZvaWNlcyIsImdldFZvaWNlcyIsInNlbGVjdGVkVm9pY2UiLCJmaW5kIiwidm9pY2UiLCJuYW1lIiwicGl0Y2giLCJyYXRlIiwidG9Mb3dlckNhc2UiLCJvbmVuZCIsIm9uZXJyb3IiLCJzcGVhayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/aiService.ts\n"));

/***/ })

});